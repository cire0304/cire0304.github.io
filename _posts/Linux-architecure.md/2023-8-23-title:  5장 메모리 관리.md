---
title:  "5장 메모리 관리"

categories:
  - Linux-architecture
tags:
  - Linux

toc: true
toc_sticky: true

date: 2023-08-23
last_modified_at: 2023-08-23
---

실습과 그림으로 배우는 리눅스 구조 5장을 공부한 내용입니다.  
{: .notice--primary}

리눅스는 커널의 메모리 관리 시스템으로 시스템에 탑재된 메모리를 관리합니다.
메모리는 각 프로세스가 사용하는 것은 물론이고 커널 자체도 메모리를 사용합니다.

따라서 메모리의 종류는 크게 세가지로 나눌 수 있습니다.
- 커널 메모리
- 프로세스 메모리
- 비어있는 메모리

# 메모리 부족

메모리 사용량이 증가하면 사용가능한 메모리가 점점 줄어듭니다.  
이러한 상태가 되면 메모리 관리 시스템은 커널 내부의 해제 가능한 메모리 영역을 해제합니다.

이후에도 메모리 사용량이 계속 증가하면 시스템은 메모리가 부족해 동작할 수 없는 `메모리 부족 (Out Of Memery, OOM)`상태가 됩니다.

OOM이 발생할 경우 메모리 관리 시스템에는 적절한 프로세스를 선택해 강제 종료(kill)하여 메모리 영역을 해제시키는 `OOM Killer`라는 기능이 있습니다.

# 단순한 메모리 할당

가상 메모리를 사용하지 않은 가장 단순한 메모리 할당에 대해서 알아보겠습니다.

메모리 할당은 두 가지 타이밍에 발생합니다.
1. 프로세스를 생성할 때
2. 프로세스를 생성한 뒤 추가로 동적 메모리를 할당할 때

지금은 동적 메모리를 할당하는 상황을 가정하겠습니다.

프로세스가 생성된 뒤 추가로 메모리가 필요하면 프로세스는 커널에 `메모리 확보용 시스템 콜`을 호출해서 메모리 할당을 요청합니다.

커널은 메모리 확보용 시스템 콜을 호출해서 메모리 